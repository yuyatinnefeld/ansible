- hosts: product_01
  vars:
      packages: [git, vim, ruby]
  tasks:
    - name: " ğŸ’ª install packages for Debian style ğŸ’ª "
      apt:
        name: '{{item}}'
        state: '{{pkg_state}}'
      with_items: '{{packages}}'
      when: ansible_os_family == "Debian"

    - name: " ğŸ’ª install packages for RedHat style ğŸ’ª "
      yum:
        name: '{{item}}'
        state: '{{pkg_state}}'
      with_items: '{{packages}}'
      when: ansible_os_family == "RedHat"

    - name: " âœ¨ create files based on package names âœ¨ "
      file:
        dest: /root/tmp/{{item}}
        state: '{{file_state}}'
      with_items: '{{packages}}'
      when: ansible_os_family == "Debian"







